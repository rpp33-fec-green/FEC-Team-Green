"use strict";(self.webpackChunkfec_team_green=self.webpackChunkfec_team_green||[]).push([[615],{5615:(e,t,n)=>{n.r(t),n.d(t,{default:()=>et});var r,a=n(7294),i=n(9669),o=n.n(i),l=n(6538),s=n(9163);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var h,v,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(c,e);var t,n,r,i,s=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(i){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={helpfulRating:!1},t.moreReview=t.moreReview.bind(p(t)),t}return t=c,(n=[{key:"moreReview",value:function(e,t){document.getElementById(e).innerHTML=t}},{key:"helpfulRating",value:function(e){var t=this;if(!1===this.state.helpfulRating){var n="/api/reviews/".concat(this.props.review.review_id,"/helpful");o().put(n).then((function(){t.props.review.helpfulness++,t.setState({helpfulRating:!0})}))}}},{key:"render",value:function(){var e=this,t=this.props.review,n=t.summary,r=null,i=t.review_id;n.length>60&&(n=n.substring(0,60)+"...");var o=t.body;o.length>250?(o=o.substring(0,250),r=a.createElement("div",null,a.createElement("div",{className:"reviewBody",id:i},o),a.createElement("a",{href:"#",onClick:function(){e.moreReview(i,t.body)}},"Show more"))):r=a.createElement("div",null,o);var s=null;t.recommend&&(s=a.createElement("div",null,"I recommend this product"));var c=null;return t.response&&(c=a.createElement("div",null,a.createElement("div",null,"Response from seller:"),a.createElement("div",null,t.response))),a.createElement(y,null,a.createElement(l.Z,{rating:this.props.review.rating}),a.createElement("span",null,t.reviewer_name+","),a.createElement("span",{className:"review"}," "+new Date(this.props.review.date).toLocaleString("en-US",{month:"long",day:"2-digit",year:"numeric"})),a.createElement("br",null),a.createElement("div",null,n),a.createElement("div",null,r),a.createElement("div",{className:"image"},t.photos.map((function(e){return'console.log("photo url", photo.url)'}))),a.createElement("br",null),a.createElement("div",null,s),a.createElement("div",null,c),a.createElement("div",null,"Helpful?",a.createElement("a",{href:"#",onClick:function(){e.helpfulRating()}},"Yes"),"(",t.helpfulness,")"),a.createElement("br",null))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component),y=s.ZP.div(r||(h=["\n  margin-top: 10px;\n"],v||(v=h.slice(0)),r=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(v)}}))));const b=g;var E=n(3379),w=n.n(E),C=n(7795),A=n.n(C),R=n(569),k=n.n(R),O=n(3565),P=n.n(O),x=n(9216),S=n.n(x),j=n(4589),Z=n.n(j),_=n(1761),B={};B.styleTagTransform=Z(),B.setAttributes=P(),B.insert=k().bind(null,"head"),B.domAPI=A(),B.insertStyleElement=S(),w()(_.Z,B),_.Z&&_.Z.locals&&_.Z.locals;const I=function(e){var t=e.handleClose,n=e.show,r=e.children,i=n?"modal display-block":"modal display-none";return a.createElement("div",{className:i},a.createElement("section",{className:"modal-main"},a.createElement("button",{className:"modal-button-close",type:"button",onClick:t},"X"),r))};var F;function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function M(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(s,e);var t,n,r,i,l=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(i){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={productId:t.props.productId,show:!1,hoverRating:[0,0,0,0,0],rating:0,displayText:null,recommend:null,summary:null,body:"",name:null,email:null,characteristics:{},postCharac:{},photos:[],displayCharac:{Size:null,Width:null,Comfort:null,Quality:null,Length:null,Fit:null}},t.showModal=t.showModal.bind(D(t)),t.hideModal=t.hideModal.bind(D(t)),t.recommendChange=t.recommendChange.bind(D(t)),t.characChange=t.characChange.bind(D(t)),t.generalChange=t.generalChange.bind(D(t)),t.textCounter=t.textCounter.bind(D(t)),t.submitReview=t.submitReview.bind(D(t)),t}return t=s,(n=[{key:"showModal",value:function(){this.setState({show:!0})}},{key:"hideModal",value:function(){this.setState({show:!1})}},{key:"recommendChange",value:function(e){var t="true"===e.target.value;this.setState({recommend:t})}},{key:"characChange",value:function(e){var t=this.state.characteristics,n=e.target.name,r=e.target.id;console.log("id type",T(r)),t[n]=parseInt(e.target.value);var a=this.state.displayCharac;a[n]={Size:["A size too small","1/2 size too small","Perfect","1/2 size too big","too wide"],Width:["Too narrow","Slightly narrow","Perfect","Slightly wide","Too wide"],Comfort:["Uncomfortable","Slightly uncomfortable","Ok","Comfortable","Perfect"],Quality:["Poor","Below average","What I expected","Pretty great","Perfect"],Length:["Runs short","Runs slightly short","Perfect","Runs slightly long","Runs long"],Fit:["Runs tight","Runs slightly tight","Perfect","Runs slightly long","Runs long"]}[n][e.target.value-1];var i=this.state.postCharac;i[r]=parseInt(e.target.value),this.setState({characteristics:t,displayCharac:a,postCharac:i})}},{key:"generalChange",value:function(e){var t,n,r;e.preventDefault(),this.setState((t={},n=e.target.name,r=e.target.value,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}},{key:"textCounter",value:function(){var e=this.state.body;return e.length>=50?"Minimum reached":'Minimum required characters left:"'.concat(50-e.length,'"')}},{key:"submitReview",value:function(e){var t=this;e.preventDefault();var n={product_id:parseInt(this.props.productId),rating:parseInt(this.state.rating),summary:this.state.summary,body:this.state.body,recommend:this.state.recommend,name:this.state.name,photos:this.state.photos,email:this.state.email,characteristics:this.state.postCharac};console.log("reviewParam",n),o().post("/api/reviews",n).then((function(e){alert("Successfully submitted your review"),console.log("success",e),t.hideModal()})).catch((function(e){console.log("error posting reviews",e.message),alert("Failed to post review")}))}},{key:"render",value:function(){var e=this,t=['1 star - "Poor"','2 stars - "Fair',' 3 stars - "Average"','4 stars - "Good"','5 stars - "Great"'],n=0===this.state.hoverRating[0]?a.createElement("span",{className:"fa fa-star-o","aria-hidden":"true",onClick:function(){e.setState({hoverRating:[1,0,0,0,0],rating:1,displayText:t[0]})}}):a.createElement("span",{className:"fa fa-star","aria-hidden":"true"}),r=0===this.state.hoverRating[1]?a.createElement("span",{className:"fa fa-star-o","aria-hidden":"true",onClick:function(){e.setState({hoverRating:[1,1,0,0,0],rating:2,displayText:t[1]})}}):a.createElement("span",{className:"fa fa-star","aria-hidden":"true"}),i=0===this.state.hoverRating[2]?a.createElement("span",{className:"fa fa-star-o","aria-hidden":"true",onClick:function(){e.setState({hoverRating:[1,1,1,0,0],rating:3,displayText:t[2]})}}):a.createElement("span",{className:"fa fa-star","aria-hidden":"true"}),o=0===this.state.hoverRating[3]?a.createElement("span",{className:"fa fa-star-o","aria-hidden":"true",onClick:function(){e.setState({hoverRating:[1,1,1,1,0],rating:4,displayText:t[3]})}}):a.createElement("span",{className:"fa fa-star","aria-hidden":"true"}),l=0===this.state.hoverRating[4]?a.createElement("span",{className:"fa fa-star-o","aria-hidden":"true",onClick:function(){e.setState({hoverRating:[1,1,1,1,1],rating:5,displayText:t[4]})}}):a.createElement("span",{className:"fa fa-star","aria-hidden":"true"}),s=[];for(var c in this.props.charac){var u=this.props.charac;s.push({name:"".concat(c),id:u[c].id,value:u[c].value})}return this.state.displayCharac,a.createElement("div",null,a.createElement(I,{show:this.state.show,handleClose:this.hideModal},a.createElement("form",null,a.createElement("h1",null,"Write Your Review "),a.createElement("h3",null,"About the ",this.props.product_name),a.createElement("div",null,a.createElement("div",null,"Rating*"),n," ",r," ",i," ",o," ",l," ",this.state.displayText,a.createElement("div",null,"Do you recommend this product? *"),a.createElement("input",{type:"radio",id:"yes",name:"recommend",value:!0,onClick:this.recommendChange}),a.createElement("label",{htmlFor:"yes"}," Yes "),a.createElement("input",{type:"radio",id:"no",name:"recommend",value:!1,onClick:this.recommendChange}),a.createElement("label",{htmlFor:"no"}," No "),a.createElement("div",null,"Characteristics*"),s.map((function(t){return a.createElement("div",{key:JSON.stringify(t.id)},a.createElement("div",null,t.name),a.createElement("input",{type:"radio",id:t.id,name:t.name,value:1,onClick:e.characChange}),a.createElement("label",{htmlFor:"charac.id"}," 1 "),a.createElement("input",{type:"radio",id:t.id,name:t.name,value:2,onClick:e.characChange}),a.createElement("label",{htmlFor:"charac.id"}," 2 "),a.createElement("input",{type:"radio",id:t.id,name:t.name,value:3,onClick:e.characChange}),a.createElement("label",{htmlFor:"charac.id"}," 3 "),a.createElement("input",{type:"radio",id:t.id,name:t.name,value:4,onClick:e.characChange}),a.createElement("label",{htmlFor:"charac.id"}," 4 "),a.createElement("input",{type:"radio",id:t.id,name:t.name,value:5,onClick:e.characChange}),a.createElement("label",{htmlFor:"charac.id"}," 5 "),a.createElement("div",null,e.state.displayCharac[t.name]))})),a.createElement("div",null,"Review Summary"),a.createElement("textarea",{name:"summary",maxLength:"60",placeholder:"Example: Best purchase ever!",onChange:this.generalChange}),a.createElement("div",null,"Review Body"),a.createElement("textarea",{name:"body",maxLength:"1000",placeholder:"Why did you like the product or not?",onChange:this.generalChange}),a.createElement("br",null),a.createElement("small",null,this.textCounter()),a.createElement("div",null,"Upload your photos"),a.createElement("button",{onClick:function(e){return e.preventDefault}},"Add Photos"),a.createElement("div",null,"What is your nickname*"),a.createElement("input",{name:"name",type:"text",maxLength:"60",placeholder:"Example: jack11!",onChange:this.generalChange}),a.createElement("br",null),a.createElement("small",null,"For privacy reasons, do not use your full name or email address"),a.createElement("div",null,"Your email*"),a.createElement("input",{name:"email",type:"text",maxLength:"60",placeholder:"jackson11@gmail.com",onChange:this.generalChange}),a.createElement("br",null),a.createElement("small",null,"For authentication reasons, you will not be emailed"),a.createElement("div",null,a.createElement("button",{onClick:this.submitReview},"Submit Review"))))),a.createElement(Y,{onClick:this.showModal},"ADD A REVIEW"))}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component),Y=s.ZP.button(F||(F=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: none;\n  border: 1px solid #404040;\n  font-weight: bold;\n  margin-right: 20px;\n"])));const V=L;var Q,U,H,X,G,q=n(2976),J={};function K(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}J.styleTagTransform=Z(),J.setAttributes=P(),J.insert=k().bind(null,"head"),J.domAPI=A(),J.insertStyleElement=S(),w()(q.Z,J),q.Z&&q.Z.locals&&q.Z.locals;var $=s.ZP.div(Q||(Q=K([""]))),ee=s.ZP.div(U||(U=K([""]))),te=s.ZP.div(H||(H=K(["\n  border-radius: 0;\n  height: 12px;\n  border: 1px solid;\n  display: flex;\n  &:hover {\n    background-color: #F2F2F2;\n  }\n"]))),ne=s.ZP.div(X||(X=K(["\n  border-radius: 0;\n  height: 99%;\n  width: ","%;\n  background: #383f47 ;\n"])),(function(e){return e.percent})),re=s.ZP.div(G||(G=K(["\n  border-radius: 0;\n  display: inline;\n  height: 99%;\n  width: ","%;\n  background: #eee;\n"])),(function(e){return e.empty}));const ae=function(e){var t=a.createElement(te,{percent:e.percent,empty:100-e.percent},a.createElement(ne,{percent:e.percent}," "),a.createElement(re,{empty:e.empty}));return a.createElement($,{onClick:function(){e.filters(e.stars)}},a.createElement(ee,null,e.stars," stars"),t)};var ie,oe;function le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const se=function(e){var t=e.ratingBreakdown,n=(t[0]+2*t[1]+3*t[2]+4*t[3]+5*t[4])/100,r=Math.round(10*n)/10,i=Math.round(1e3*e.recAvg)/10;return a.createElement("div",null,a.createElement(ye,null,a.createElement("span",null,r),a.createElement(l.Z,{rating:r})),a.createElement(be,null,i,"% of reviews recommend this product"),a.createElement(ae,{stars:5,percent:e.ratingBreakdown[4],filters:e.filters}),a.createElement(ae,{stars:4,percent:e.ratingBreakdown[3],filters:e.filters}),a.createElement(ae,{stars:3,percent:e.ratingBreakdown[2],filters:e.filters}),a.createElement(ae,{stars:2,percent:e.ratingBreakdown[1],filters:e.filters}),a.createElement(ae,{stars:1,percent:e.ratingBreakdown[0],filters:e.filters}))};var ce,ue,de,fe,pe,me,he,ve,ge,ye=s.ZP.div(ie||(ie=le(["\n font-size: 40px;\n"]))),be=s.ZP.div(oe||(oe=le(["\n\n"])));function Ee(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const we=function(e){return a.createElement(Ce,null,a.createElement(Ae,null,e.name),a.createElement(Re,{value:parseInt(e.value)/5*100}),a.createElement(ke,null,a.createElement(Oe,null),a.createElement(Oe,null),a.createElement(Oe,null)),a.createElement(Pe,null,a.createElement(xe,null,e.info[0]),a.createElement(Se,null,e.info[1]),a.createElement(je,null,e.info[2])))};var Ce=s.ZP.div(ce||(ce=Ee(["\n\n"]))),Ae=s.ZP.span(ue||(ue=Ee(["\n\n"]))),Re=s.ZP.div(de||(de=Ee(["\n  width: 0;\n  height: 0;\n  border-left: 12px solid transparent;\n  border-right: 12px solid transparent;\n  border-top: 15px solid #383f47;\n  position: relative;\n  z-index: 1;\n  margin-left: ","%;\n"])),(function(e){return e.value})),ke=s.ZP.div(fe||(fe=Ee(["\n  display: flex;\n  justify-content: space-between;\n  border-radius: 0;\n  position: relative;\n  width: 100%;\n"]))),Oe=s.ZP.div(pe||(pe=Ee(["\n  display: flex;\n  width: 33%;\n  height: 12px;\n  border-radius: 0;\n  background-color: #F2F2F2\n"]))),Pe=s.ZP.div(me||(me=Ee(["\n  display: grid;\n  width: 100%;\n"]))),xe=s.ZP.span(he||(he=Ee(["\ngrid-row-start: 1;\ngrid-row-end: 1;\ngrid-column-start: 1;\ngrid-column-end: 1;\ntext-align: left;\n"]))),Se=s.ZP.span(ve||(ve=Ee(["\ngrid-row-start: 1;\ngrid-row-end: 1;\ngrid-column-start: 2;\ngrid-column-end: 2;\ntext-align: center;\n"]))),je=s.ZP.span(ge||(ge=Ee(["\ngrid-row-start: 1;\ngrid-row-end: 1;\ngrid-column-start: 3;\ngrid-column-end: 3;\ntext-align: right;\n"])));const Ze=function(e){var t=[];for(var n in e.charac){var r=e.charac;t.push({name:"".concat(n),id:r[n].id,value:r[n].value})}var i={Size:["too small","perfect","too wide"],Width:["too narrow","perfect","too wide"],Comfort:["uncomfortable","ok","perfect"],Quality:["poor","as expected","perfect"],Length:["runs short","perfect","runs long"],Fit:["runs tight","perfect","runs long"]};return a.createElement("div",null,a.createElement("h3",null,"Product Breakdown"),t.map((function(e){return a.createElement(we,{key:e.id,name:e.name,value:e.value,info:i[e.name]})})))};function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}var Be,Ie,Fe,Te,Ne,ze,Me;function De(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}function Ye(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ve(e)}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qe(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(s,e);var t,n,r,i,l=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qe(r);if(i){var n=Qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ye(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={productId:t.props.product_id,reviews:[],displayReviews:[],metaData:{},ratingBreakdown:[],displayCount:2,buttonVisible:!0,sort:"relevant",filters:[],filtersOn:[!1,!1,!1,!1,!1],recAvg:0,charac:{}},t.loadReviews=t.loadReviews.bind(Ve(t)),t.sortReviews=t.sortReviews.bind(Ve(t)),t.filterReviews=t.filterReviews.bind(Ve(t)),t.removeAllFilters=t.removeAllFilters.bind(Ve(t)),t}return t=s,(n=[{key:"componentDidMount",value:function(){this.getReviews(this.state.sort),this.getMetaData()}},{key:"getReviews",value:function(e){var t=this;o().get("/api/reviews",{params:{product_id:this.state.productId,sort:e,count:50}}).then((function(e){t.setState({reviews:e.data.results,displayReviews:e.data.results})})).catch((function(e){console.log("failed to get reviews",e.message)}))}},{key:"getMetaData",value:function(){var e=this;o().get("/api/reviews/meta",{params:{product_id:this.state.productId}}).then((function(t){e.setState({metaData:t.data}),e.ratingBreakdown(t.data)})).catch((function(e){console.log("failed to get meta data",e.message)}))}},{key:"ratingBreakdown",value:function(e){var t=e.ratings,n=Object.values(t),r=0;n.map((function(e){r+=parseInt(e)}));var a=[0,0,0,0,0];t[1]&&(a[0]=parseInt(t[1])/r*100),t[2]&&(a[1]=parseInt(t[2]/r*100)),t[3]&&(a[2]=parseInt(t[3]/r*100)),t[4]&&(a[3]=parseInt(t[4]/r*100)),t[5]&&(a[4]=parseInt(t[5]/r*100));var i=e.recommended,o=parseInt(i.true)/(parseInt(i.true)+parseInt(i.false)),l=e.characteristics;this.setState({ratingBreakdown:a,recAvg:o,charac:l})}},{key:"loadReviews",value:function(){this.state.displayCount<=this.state.reviews.length?this.setState({displayCount:this.state.displayCount+2}):this.setState({buttonVisible:!1})}},{key:"sortReviews",value:function(e){this.setState({sort:e}),this.getReviews(e)}},{key:"filterReviews",value:function(e){var t=this,n=parseInt(e)-1,r=this.state.filtersOn;r[n]=!this.state.filtersOn[n],console.log("tempfilterOn",r),this.setState({filtersOn:r},(function(){var r=t.state.filters;if(t.state.filtersOn[n])t.state.filters.push(e);else{var a=t.state.filters.indexOf(e);t.state.filters.splice(a,1)}t.setState({filters:r},(function(){t.filterHelper(t.state.filters)}))}))}},{key:"filterHelper",value:function(e){var t=[];0===e.length?t=this.state.reviews:this.state.reviews.map((function(n){for(var r=0;r<e.length;r++)if(n.rating===e[r]){t.push(n);break}})),this.setState({displayReviews:t})}},{key:"removeAllFilters",value:function(){this.setState({filters:[],displayReviews:this.state.reviews,filtersOn:[!1,!1,!1,!1,!1]})}},{key:"render",value:function(){var e=this,t=[];this.state.reviews&&(t=this.state.displayReviews.slice(0,this.state.displayCount));var n=null;this.state.buttonVisible&&this.state.displayReviews.length>2&&(n=a.createElement($e,{onClick:this.loadReviews},"MORE REVIEWS"));var r=null,i=null,o=this.state.filters;return this.state.filters.length>=1&&(i=a.createElement("div",null,"Current Filters:",o.map((function(e){return" ".concat(e)})),"stars"),r=a.createElement("a",{href:"#",onClick:function(){e.removeAllFilters()}},"Remove all filters")),0===this.state.reviews.length?a.createElement("div",null,a.createElement("h3",null,"Review List"),a.createElement(V,{productId:this.state.productId})):a.createElement("div",null,a.createElement(He,null,a.createElement(Xe,null,a.createElement("h3",null,"RATINGS and REVIEWS"),i,r,a.createElement(se,{metaData:this.state.metaData,ratingBreakdown:this.state.ratingBreakdown,filters:this.filterReviews,recAvg:this.state.recAvg,charc:this.state.chrac}),a.createElement(Ze,{charac:this.state.charac})),a.createElement(Ge,null,a.createElement(qe,null,a.createElement("div",null,a.createElement("select",{onChange:function(){e.sortReviews(event.target.value)}},a.createElement("option",{value:"relevane"},"relevant"),a.createElement("option",{value:"newest"},"newest"),a.createElement("option",{value:"helpful"},"helpful"))),a.createElement("div",null,t.map((function(e){return a.createElement(b,{review:e,key:e.review_id})})))),a.createElement(Je,null,a.createElement(Ke,null,n,a.createElement(V,{productId:this.state.productId,product_name:this.props.product_name,charac:this.state.charac}," "))))))}}])&&We(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component),He=s.ZP.div(Be||(Be=De(["\n  display: flex;\n  justifyContent: 'center';\n  margin: 40px 60px 40px;\n  alightItems: 'center'\n"]))),Xe=s.ZP.div(Ie||(Ie=De(["\n  gridColumn: '1';\n  gridRow: '1';\n"]))),Ge=s.ZP.div(Fe||(Fe=De(["\n  gridcolumn: '2';\n  margin-left: 60px;\n"]))),qe=s.ZP.div(Te||(Te=De(["\n  gridColumn: '2';\n  gridRow: '1';\n  overflow: scroll;\n  height: 50vh;\n"]))),Je=s.ZP.div(Ne||(Ne=De(["\n  gridColumn: '2';\n  gridRow: '2';\n"]))),Ke=s.ZP.div(ze||(ze=De(["\n  display: grid;\n  grid-template-columns: 250px 180px;\n  margin-top: 10px;\n"]))),$e=s.ZP.button(Me||(Me=De(["\n  background: none;\n  border: 1px solid #404040;\n  font-weight: bold;\n  margin-right: 20px;\n"])));const et=Ue},6538:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294);const a=function(e){var t={"--rating":e.rating/5};return r.createElement("div",{className:"Stars",style:t})}},1761:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7537),a=n.n(r),i=n(3645),o=n.n(i)()(a());o.push([e.id,".modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n}\n\n.modal-main {\n  position:fixed;\n  background: white;\n  width: 80%;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%,-50%);\n  padding: 20px;\n  overflow: scroll;\n}\n\n.display-block {\n  display: block;\n}\n\n.display-none {\n  display: none;\n}\n\n.modal-button-close {\n  padding: 10px;\n  margin: 8px;\n  float: right;\n}\n\n\n","",{version:3,sources:["webpack://./client/src/reviews/styles/modal.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,iBAAiB;EACjB,UAAU;EACV,WAAW;EACX,QAAQ;EACR,SAAS;EACT,+BAA+B;EAC/B,aAAa;EACb,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,WAAW;EACX,YAAY;AACd",sourcesContent:[".modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n}\n\n.modal-main {\n  position:fixed;\n  background: white;\n  width: 80%;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%,-50%);\n  padding: 20px;\n  overflow: scroll;\n}\n\n.display-block {\n  display: block;\n}\n\n.display-none {\n  display: none;\n}\n\n.modal-button-close {\n  padding: 10px;\n  margin: 8px;\n  float: right;\n}\n\n\n"],sourceRoot:""}]);const l=o},2976:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7537),a=n.n(r),i=n(3645),o=n.n(i)()(a());o.push([e.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const l=o}}]);
//# sourceMappingURL=615.bundle.js.map